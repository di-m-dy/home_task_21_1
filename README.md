# Домашнее задание #22_2

Продолжайте работу в проекте предыдущей домашней работы.

## !!!ВНИМАНИЕ!!! ##
Перед запуском проекта переименуйте файл [env_template](env_template) в `.env` и поменяйте содержимое на свои переменные окруженния

## Задание 1

Создайте новое приложения для работы с пользователем. 
Определите собственную модель для пользователя, при этом задайте электронную почту как поле для авторизации.

Также добавьте поля:

- аватар
- номер телефона
- страна

## Задание 2

В сервисе реализуйте функционал аутентификации, а именно:

- Регистрация пользователя по почте и паролю.

    _Создайте контроллер для регистрации, который будет взаимодействовать с формой регистрации — пользователю достаточно ввести почту и пароль._

- Верификация почты пользователя через отправленное письмо.

    _В контроллере регистрации переопределите метод form_valid() и встройте автоматическую отправку электронного сообщения пользователю на указанный в форме регистрации адрес._

- Авторизация пользователя.

    _Создайте отдельный контроллер для авторизации `LoginView` и зарегистрируйте его в приложении._

- Восстановление пароля зарегистрированного пользователя на автоматически сгенерированный пароль.

    _Создайте новый контроллер для восстановления пароля._ 
    _В интерфейсе кнопка «Восстановить пароль» должна отображаться на странице входа._ 
    _Пользователь вводит адрес электронной почты, в контроллере происходит генерация пароля,_ 
    _перезапись пароля для пользователя с соответсвующим адресом электронной почты_
    _и отправка сообщения с новым паролем на адрес почты._

## Задание 3

Все контроллеры, которые отвечают за работу с продуктами, закройте для анонимных пользователей, 
при этом создаваемые продукты должны автоматически привязываться к авторизованному пользователю.

_Чтобы закрыть контроллеры от анонимных пользователей, добавьте в CBV-контроллеры дополнительное наследование от_ 
`LoginRequiredMixin`



##  * Дополнительное задание

Добавьте интерфейс редактирования профиля пользователя.



